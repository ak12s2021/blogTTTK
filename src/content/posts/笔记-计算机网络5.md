---
title: "计算机网络ch5 网络层 控制平面"
published: 2024-12-19
tags: []
category: "计算机网络笔记"
draft: false
---
<h1>ch5 网络层 控制平面</h1>
<p>　　<strong>转发表</strong>（在基于目的地转发的场景中）和 <strong>流表</strong> （在通用转发的场景中）是 <strong>链接</strong> 网络层的数据平面和控制平面的首要元素。本章将学习这些 <strong>转发表和流表是如何计算、维护和安装的。</strong></p>
<p>　　‍</p>
<p>　　控制平面的两种实现方法：<br />
（1）每路由器控制<br />
（2）逻辑集中式控制</p>
<h3>每路由器控制</h3>
<p>　　台路由器中都包含<br />
转发和路由选择功能。每台路由器有一个路由选择组件，用于与其他路由器中的路<br />
由选择组件通信，以计算其转发表的值。</p>
<p>​<img src="https://cbt567.oss-rg-china-mainland.aliyuncs.com/img/202412192128130.png" alt="image" />​</p>
<h3>逻辑集中式控制</h3>
<p>　　辑集中式控制器计算并分发转发表以供每台路由器使用的情况。如<br />
我们在4.4节中所见，通用的“匹配加动作”抽象允许执行传统的IP转发以及其他<br />
功能。</p>
<p>​<img src="https://cbt567.oss-rg-china-mainland.aliyuncs.com/img/202412192128405.png" alt="image" />​</p>
<p>　　‍</p>
<h2>路由选择算法</h2>
<p>　　路由选择算法就是路由选择协议用于决定达到目的网络的最佳路径的计算方法</p>
<p>　　（1） 路由选择的基本概念</p>
<p>　　 <strong>路由</strong> 是把分组从源穿过通信子网传递到目的地的行为，即 <strong>路由选择</strong> ；<br />
➢ 分组传输依靠 <strong>路由表</strong> 选择路径；<br />
➢ 路由表依靠 <strong>路由算法</strong> 维护；<br />
➢ 路由包含两个基本的动作：确定最佳路径（路由选择）和通过网络传输信息（交换数据）。</p>
<p>　　2） 路由选择与路由表<br />
➢ 路由选择是一种在网络上将分组从源主机传输到目标主机<br />
的过程。<br />
➢ 路由表包括交换软件选择最佳路径的相关信息（目标/下一<br />
跳）。<br />
➢ 当路由器接到数据包时，它将检查目标地址并将分组从路<br />
由器的“下一跳”接口中传输出去。<br />
➢ 路由表中的信息可以是静态信息，也可以是动态信息。</p>
<p>　　3）路由选择算法涉及的主要参数<br />
➢  <strong>跳数（hop count）</strong> ：分组从源到目标经过的路由器的个数。<br />
➢ 带宽（bandwidth）：链路的传输速率。<br />
➢ 延时（delay）：分组从源到目的所花费的时间。<br />
➢ 负载（load）：通过路由器或线路的单位时间通信量。<br />
➢ 开销（overhead）：传输过程中的耗费，与所使用的链路带宽相关。</p>
<p>　　（4） 路由选择的机制<br />
➢路径选择是根据一定的原则和算法在传输通路中选出一条通向目的结点的最佳路径。<br />
➢ <strong>路由算法是用于产生路由表的算法。</strong><br />
➢路由表开列了目的地址与输出链路的 <strong>对应关系</strong></p>
<p>　　（6） 路由选择算法分类<br />
➢ 按照路由表的更新方式分类：静态路由选择算法与动态路<br />
由选择算法；<br />
➢ 静态路由选择算法，其路由表需靠手工维护；<br />
➢ 动态路由选择算法，其路由表由路由算法自动修改。</p>
<p>​<img src="https://cbt567.oss-rg-china-mainland.aliyuncs.com/img/202412192128681.png" alt="image" />​</p>
<p>　　2）洪泛算法/扩散法（Flooding Routing）<br />
⚫当某个结点收到一个不是给它的分组时，将其向所有与<br />
此结点相连的链路（除收到该分组的链路）转发出去。当<br />
网络通信量很小时，扩散法可使分组的延迟最小。</p>
<p>​<img src="https://cbt567.oss-rg-china-mainland.aliyuncs.com/img/202412192128953.png" alt="image" />​</p>
<p>　　增加寿命</p>
<p>　　‍</p>
<h3>动态路由算法</h3>
<p>　　每个路由器维护一张表，表中列出到每个目的地址的最短距离和<br />
线路，并通过与邻居结点交换信息更新表。<br />
⚫以子网中其它路由器为表的索引，包括到达目的结点的最佳输出<br />
线路，和到达目的结点所需时间或距离</p>
<p>　　‍</p>
<p>　　‍</p>
<p>　　（3）分级路由</p>
<p>　　对于大型网络分而治之，每个路由器只知道自己所在子网的路由<br />
信息，而不去了解其他子网的内部结构。<br />
⚫根据需要，可以分成区域（regions）、聚类（clusters）、区<br />
（zones）和组（groups）…。<br />
❑分级路由带来的问题。<br />
⚫路由表中的路由不一定是最优路由。</p>
<h2>内部网关协议</h2>
<p>　　按照<strong>协议的作用范围分类</strong>，因特网有两大类路由选择协议。<br />
◼  <strong>内部网关协议</strong><br />
IGP(Interior Gateway Protocol)，即在一个自治系统内部使用的路由选择协议。<br />
◼  <strong>外部网关协议</strong><br />
EGP(External Gateway Protocol)，若源站和目的站处在不同的自治系统中，当数据报传到一个自治系统的边界时，就需要使用一种协议将路由选择信息传递到另一个自治系统中。</p>
<h4>自治系统(autonomous system)</h4>
<p>　　◼ 因特网将整个互联网划分为许多较小的自治系统AS。<br />
◼ 一个自治系统是一个互联网，其最重要的特点就是自治系统有权自主地决定在本系统内应采用何种路由选择协议。<br />
◼ 一个自治系统内的所有网络都属于一个行政单位。<br />
◼ 一个自治系统的所有路由器在本自治系统内都必须是连通的。</p>
<p>​<img src="https://cbt567.oss-rg-china-mainland.aliyuncs.com/img/202412192128226.png" alt="image" />​</p>
<h3>内部网关协议RIP</h3>
<p>　　工作原理<br />
◼  <strong>路由信息协议RIP（Routing Information Protocol）</strong> 是内部网关协议IGP中最先得到广泛使用的协议。<br />
◼ RIP是一种分布式的基于 <strong>距离向量</strong> 的路由选择协议。<br />
◼ RIP协议要求网络中的每一个路由器都要维护从它自己到其他每一个目的网络的 <strong>距离记录。</strong></p>
<p>　　“距离”的定义<br />
◼ 从一路由器到 <strong>直接连接</strong> 的网络的距离定义为1。<br />
◼ 从一个路由器到非直接连接的网络的距离定义为所经过的路由器数加 1。<br />
◼ RIP 协 议 中 的 “ 距 离 ” 也 称 为 “  <strong>跳 数 ” (hopcount)，</strong> 因为每经过一个路由器，跳数就加1。</p>
<p>　　‍</p>
