---
title: "计算机网络-ch2应用层"
published: 2024-12-19
tags: []
category: "计算机网络笔记"
draft: false
---
<h1>ch2应用层</h1>
<h3>2.3电子邮件</h3>
<p>　　本节讨论电子邮件的核心，即应用层协议</p>
<p>　　‍</p>
<p>　　<em>如果接收方的邮件服务器没有开机，该邮件仍保留<br />
在发送方邮件服务器上，并在以后进行再次传送</em></p>
<h4>SMTP SMTP不使用中间邮件服务器发送邮件</h4>
<ul>
<li>邮件不会在某个中间邮件服务器停留</li>
<li>持续HTTP和SMTP都使用持续连接</li>
<li>都用于从一台主机向另一台主机传送文件</li>
</ul>
<p>　　‍</p>
<p>　　HTTP是拉协议(pull protocol)：用户使用HTTP从服务器拉取信息</p>
<p>　　SMTP是推协议(push protocol)：发送邮件服务器把文件推向接收邮件服务器</p>
<p>　　‍</p>
<p>　　‍</p>
<p>　　SMTP使用7位ASCII码格式：<br />
对一些包含了非7位ASCII字符的报文或二进制数据<br />
(如图片、声音)，需要按照7位ASCII码进行编码，再<br />
传送。<br />
在接收方需要解码还原为原有报文。</p>
<p>　　HTTP数据没有该限制。对含有文本和图形 (或其他媒体类型)的文档：<br />
✓HTTP把每个对象封装在它各自的HTTP响应报文中发<br />
送。<br />
✓电子邮件则把所有报文对象放在一个报文中</p>
<p>​<img src="http://127.0.0.1:6806/assets/image-20241204181527-2l5ksyp.png" alt="image" />​</p>
<p>　　MIME（多用途因特网邮件扩展）：用于非ASCII数据传输。将非ASCII数据编码后传输，接收方再解码还原</p>
<p>​<img src="http://127.0.0.1:6806/assets/image-20241204181701-gj68lu5.png" alt="image" />​</p>
<p>　　‍</p>
<p>　　◼发送方：用户代理用SMTP将邮件推入其邮件服务器→ 邮件服务器再用SMTP将邮件转发到接收方的邮件服务器</p>
<p>　　◼ 接收方：通过其用户代理使用一个邮件访问协议（不是SMTP），从其邮件服务器上取回邮件。</p>
<p>　　取邮件是一个拉操作，而SMTP协议是一个推协议。</p>
<p>　　‍</p>
<p>　　‍</p>
<h3>四、邮件访问协议</h3>
<p>　　POP3(第三版的邮局协议)<br />
IMAP(因特网邮件访问协议)<br />
HTTP</p>
<p>　　‍</p>
<p>　　◼ <strong>POP3缺陷：用户读取邮件后，服务器不再保存。</strong><br />
◼ IMAP： 功能强</p>
<p>　　用户在自己的PC机上就可以操纵邮件服务器的邮箱，就像在本地操纵一样，是一个<strong>联机协议</strong>。<br />
✓ 未发出删除命令前，一直保存在邮件服务器</p>
<p>　　‍</p>
<p>　　‍</p>
<h2>DNS：因特网的目录服务</h2>
<p>　　标识主机的两种方式：<br />
✓ <strong>主机名</strong>：由不定长的字母和数字组成。便于记忆。如<a href="http://www.yahoo.com">www.yahoo.com</a>路由器处理困难。<br />
✓ <strong>IP地址</strong>：由4个字节组成，有着严格的层次结构。路由器容易处理。</p>
<p>　　如IP地址（点分十进制）：121|||||||||.7.106.83<br />
<strong>网络号  主机号</strong></p>
<p>　　‍</p>
<p>　　‍</p>
<p>　　DNS提供的服务<br />
报文在网络中传输，使用IP地址。<br />
◼ <strong>域名系统DNS (Domain Name System)：进行主机名到IP地址的转换</strong>。<br />
✓ 一个由分层的DNS服务器实现的<strong>分布式数据库</strong>。<br />
✓ 允许主机查询分布式数据库的应用层协议。</p>
<p>　　‍</p>
<p>　　 <em>✓ DNS协议运行在UDP之上，使用53号端口。<br />
✓ DNS通常直接由其他的应用层协议 (包括HTTP、SMTP 和FTP)使用，以将用户提供的主机名解析为IP地址。用户只是间接使用</em></p>
<p>　　过程如下：<br />
✓ 用户主机上运行DNS应用的客户机端。<br />
✓ 浏览器从URL中解析出主机名，传给DNS客户机端。<br />
✓ DNS客户机向DNS服务器发送一个包含主机名的请求；<br />
✓ DNS客户机收到含有对应主机名的IP地址的回答报文；<br />
✓ 浏览器向该IP地址指定的HTTP服务器发起一个TCP连接</p>
<p>　　<strong>增加一定时延</strong></p>
<p>​<img src="http://127.0.0.1:6806/assets/image-20241204182418-5tvo78k.png" alt="image" />​</p>
<p>　　根域名服务器：<br />
◼ 如果域名映射未知，联系权威域名服务器。<br />
◼ 获得映射。<br />
◼ 返回对本地域名服务器的映射。</p>
<p>　　顶级域(TLD)服务器：负责com, org, net, edu等，以及所有顶级国家域 uk, fr, ca, jp.<br />
◼ Network Solutions维护com顶级域服务器 。<br />
◼ Educause维护edu顶级域服务器 。<br />
◼ 权威DNS服务器：某组织的DNS服务器为该组织的服务器(如Web和电子邮件)提供对IP映射的权威主机名 。<br />
◼ 能够由组织或服务提供商维护。</p>
<p>　　‍</p>
<p>　　当主机发出DNS请求时，请求被发送到其本地域名服务器</p>
<p>​<img src="http://127.0.0.1:6806/assets/image-20241204182735-g6lyhba.png" alt="image" />​</p>
<p>　　一旦(任何)域名服务器知道了映射，它将缓存该映射</p>
<p>　　顶级域服务器通常缓存在本地域名服务器中<br />
◼ 因此不经常访问根域名服务器</p>
<p>　　‍</p>
<p>　　Internet采用了层次结构的命名方法。任何一个连接在Internet上<br />
的主机或路由器，都有一个惟一的层次结构的名字，称为域名。<br />
域名即主机名。<br />
➢域是指名字空间中一个可被管理的子空间。域还可以进一步划分<br />
为子域。</p>
<h4>3.. 域名的作用</h4>
<ul>
<li>32bits的IP地址难于记忆，对于用户而言，用文本描述的域名地址更易于记忆。</li>
<li>具有层次结构，提供网络管理组织信息。</li>
<li>便于网络管理和维护。主机的IP地址可以随网络变化，但是域名可以保持不变。</li>
</ul>
<p>　　‍</p>
<p>　　层次结构的域名分为若干等级构成一棵命名树</p>
<p>​<img src="http://127.0.0.1:6806/assets/image-20241204183938-hdr7bmq.png" alt="image" />​</p>
<ol start="7">
<li>cn下注册的二级域名<br />
“类别域名”和“行政区域名”两类</li>
</ol>
<hr />
<h6>递归查询（Recursive Query）</h6>
<p>　　客户机只需接触一次DNS服务器系统，就可得到所需的结点地址。</p>
<p>　　如果DNS服务器内没有所需要的数据，则DNS服务器会代替客户机向其他的DNS服务器查询</p>
<h6>迭代查询（Iterative Query）</h6>
<p>　　‍</p>
<p>　　‍</p>
<p>　　‍</p>
<h4>2.5 套接字编程：生成网络应用</h4>
<p>　　两种传输服务的两种套接字类型:<br />
◼ UDP: 不可靠的数据报。<br />
◼ TCP: 可靠的，面向字节流的。</p>
<h5>一、UDP套接字编程</h5>
<p>　　UDP: 客户端和服务器之间没有“连接”</p>
<p>　　UDP: 传输的数据可能会丢失或乱序接收应用观点---提供不可靠的字节组（“数据报”）传输</p>
<p>​<img src="http://127.0.0.1:6806/assets/image-20241204185523-4f2q4fr.png" alt="image" />​</p>
<p>​<img src="http://127.0.0.1:6806/assets/image-20241204185540-sy7fqr7.png" alt="image" />​</p>
